<script>
document.getElementById('calcForm').addEventListener('submit', function(e){
  e.preventDefault();

  const age = Number(document.getElementById('age').value);
  const height = Number(document.getElementById('height').value);
  const weight = Number(document.getElementById('weight').value);
  const sex = document.getElementById('sex').value;
  const activity = Number(document.getElementById('activity').value);
  const goal = document.getElementById('goal').value;
  const result = document.getElementById('result');

  if(!age || !height || !weight){
    result.innerHTML = "‚ö†Ô∏è –ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è";
    return;
  }

  let bmr;
  if(sex === '–º'){
    bmr = 10*weight + 6.25*height - 5*age + 5;
  } else {
    bmr = 10*weight + 6.25*height - 5*age - 161;
  }

  const factors = [1.2, 1.375, 1.55, 1.725, 1.9];
  let calories = bmr * factors[activity - 1];

  if(goal === '–ø–æ—Ö—É–¥–µ–Ω–∏–µ') calories *= 0.85;
  if(goal === '–Ω–∞–±–æ—Ä') calories *= 1.10;

  const protein = Math.round(weight * 1.8);
  const fat = Math.round(weight * 0.8);
  const carbs = Math.round((calories - (protein*4 + fat*9)) / 4);

  result.innerHTML = `
    <strong>üî• –°—É—Ç–æ—á–Ω–∞—è –Ω–æ—Ä–º–∞:</strong> ${Math.round(calories)} –∫–∫–∞–ª<br><br>

    <strong>üçó –ë–µ–ª–∫–∏:</strong> ${protein} –≥<br>
    –ú—è—Å–æ, —Ä—ã–±–∞, —è–π—Ü–∞, —Ç–≤–æ—Ä–æ–≥<br><br>

    <strong>ü•ë –ñ–∏—Ä—ã:</strong> ${fat} –≥<br>
    ‚Ä¢ –†–∞—Å—Ç–∏—Ç–µ–ª—å–Ω—ã–µ: –æ—Ä–µ—Ö–∏, –æ–ª–∏–≤–∫–æ–≤–æ–µ –º–∞—Å–ª–æ, –∞–≤–æ–∫–∞–¥–æ<br>
    ‚Ä¢ –ñ–∏–≤–æ—Ç–Ω—ã–µ: —è–π—Ü–∞, —Ä—ã–±–∞, —Å–ª–∏–≤–æ—á–Ω–æ–µ –º–∞—Å–ª–æ<br><br>

    <strong>üçû –£–≥–ª–µ–≤–æ–¥—ã:</strong> ${carbs} –≥<br>
    ‚Ä¢ –ú–µ–¥–ª–µ–Ω–Ω—ã–µ: –≥—Ä–µ—á–∫–∞, —Ä–∏—Å, –æ–≤—Å—è–Ω–∫–∞<br>
    ‚Ä¢ –ë—ã—Å—Ç—Ä—ã–µ: —Ñ—Ä—É–∫—Ç—ã, –º—ë–¥, —Å—É—Ö–æ—Ñ—Ä—É–∫—Ç—ã
  `;
});
</script>
